=======================
i   = 1
pos = 0
bar = 0
height = 0
i - pos - 1 = 0
min(bar, a[i]) - height = 0
=======================
=======================
i   = 3
pos = 2
bar = 0
height = 0
i - pos - 1 = 0
min(bar, a[i]) - height = 0
=======================
=======================
i   = 3
pos = 1
bar = 1
height = 0
i - pos - 1 = 1
min(bar, a[i]) - height = 1
=======================
=======================
i   = 6
pos = 5
bar = 0
height = 0
i - pos - 1 = 0
min(bar, a[i]) - height = 0
=======================
=======================
i   = 6
pos = 4
bar = 1
height = 0
i - pos - 1 = 1
min(bar, a[i]) - height = 1
=======================
=======================
i   = 7
pos = 6
bar = 1
height = 0
i - pos - 1 = 0
min(bar, a[i]) - height = 1
=======================
=======================
i   = 7
pos = 3
bar = 2
height = 1
i - pos - 1 = 3
min(bar, a[i]) - height = 1
=======================
=======================
i   = 10
pos = 9
bar = 1
height = 0
i - pos - 1 = 0
min(bar, a[i]) - height = 1
=======================
=======================
i   = 10
pos = 8
bar = 2
height = 1
i - pos - 1 = 1
min(bar, a[i]) - height = 1
=======================
sum = 6
